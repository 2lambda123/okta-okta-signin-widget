{"version":3,"sources":["webpack://idx/webpack/universalModuleDefinition","webpack://idx/webpack/bootstrap","webpack://idx/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://idx/./src/introspect.js","webpack://idx/./src/actionParser.js","webpack://idx/./src/generateIdxAction.js","webpack://idx/./src/idxResponseParser.js","webpack://idx/./src/remediationParser.js","webpack://idx/./src/makeIdxState.js","webpack://idx/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__self__","F","this","fetch","DOMException","self","support","Blob","e","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","type","rejected","Error","arrayBuffer","then","text","readAsText","chars","length","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","callback","thisArg","keys","push","values","entries","methods","Request","input","options","method","upcased","url","credentials","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","message","stack","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","default","introspect","domain","stateHandle","target","stringify","stateToken","fieldIsAutoSent","field","visible","divideSingleActionParams","action","neededParamsForAction","existingParamsForAction","generateDirectFetch","actionDefinition","existingParams","href","params","accepts","respJson","makeIdxState","idxResponse","generatePollingFetch","generateIdxAction","generator","refresh","actionList","neededParams","divideActionParamsByAutoStatus","SKIP_FIELDS","fromEntries","parseNonRemediations","actions","context","filter","rel","fieldValue","info","subField","parseIdxResponse","remediationValue","remediations","remediation","neededToProceed","proceed","remediationChoice","paramsFromUser","rawIdxState","start","details","idxState"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAa,IAAID,IAEjBD,EAAU,IAAIC,IARhB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,gBClFrD,IAAIC,EAAW,SAAW1C,GAC1B,SAAS2C,IACTC,KAAKC,OAAQ,EACbD,KAAKE,aAAe9C,EAAK8C,aAGzB,OADAH,EAAEL,UAAYtC,EACP,IAAI2C,EANI,CAOI,oBAATI,KAAuBA,KAAOH,OACxC,SAAUG,IAEQ,SAAU7C,GAC1B,IAAI8C,EACY,oBAAqBD,EADjCC,EAEQ,WAAYD,GAAQ,aAActB,OAF1CuB,EAIA,eAAgBD,GAChB,SAAUA,GACV,WACE,IAEE,OADA,IAAIE,MACG,EACP,MAAOC,GACP,OAAO,GALX,GANAF,EAcQ,aAAcD,EAdtBC,EAeW,gBAAiBD,EAOhC,GAAIC,EACF,IAAIG,EAAc,CAChB,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEC,EACFC,YAAYC,QACZ,SAASC,GACP,OAAOA,GAAOJ,EAAYK,QAAQpC,OAAOkB,UAAUmB,SAAS5C,KAAK0C,KAAS,GAIhF,SAASG,EAAczC,GAIrB,GAHoB,iBAATA,IACTA,EAAO0C,OAAO1C,IAEZ,4BAA4B2C,KAAK3C,GACnC,MAAM,IAAI4C,UAAU,0CAEtB,OAAO5C,EAAK6C,cAGd,SAASC,EAAepC,GAItB,MAHqB,iBAAVA,IACTA,EAAQgC,OAAOhC,IAEVA,EAIT,SAASqC,EAAYC,GACnB,IAAIC,EAAW,CACbC,KAAM,WACJ,IAAIxC,EAAQsC,EAAMG,QAClB,MAAO,CAACC,UAAgBC,IAAV3C,EAAqBA,MAAOA,KAU9C,OANIqB,IACFkB,EAASzC,OAAOyC,UAAY,WAC1B,OAAOA,IAIJA,EAGT,SAASK,EAAQC,GACf5B,KAAK6B,IAAM,GAEPD,aAAmBD,EACrBC,EAAQE,SAAQ,SAAS/C,EAAOV,GAC9B2B,KAAK+B,OAAO1D,EAAMU,KACjBiB,MACMgC,MAAMC,QAAQL,GACvBA,EAAQE,SAAQ,SAASI,GACvBlC,KAAK+B,OAAOG,EAAO,GAAIA,EAAO,MAC7BlC,MACM4B,GACTpD,OAAO2D,oBAAoBP,GAASE,SAAQ,SAASzD,GACnD2B,KAAK+B,OAAO1D,EAAMuD,EAAQvD,MACzB2B,MAgEP,SAASoC,EAASC,GAChB,GAAIA,EAAKC,SACP,OAAOC,QAAQC,OAAO,IAAIvB,UAAU,iBAEtCoB,EAAKC,UAAW,EAGlB,SAASG,EAAgBC,GACvB,OAAO,IAAIH,SAAQ,SAASI,EAASH,GACnCE,EAAOE,OAAS,WACdD,EAAQD,EAAOG,SAEjBH,EAAOI,QAAU,WACfN,EAAOE,EAAOK,WAKpB,SAASC,EAAsBC,GAC7B,IAAIP,EAAS,IAAIQ,WACbC,EAAUV,EAAgBC,GAE9B,OADAA,EAAOU,kBAAkBH,GAClBE,EAoBT,SAASE,EAAYC,GACnB,GAAIA,EAAIC,MACN,OAAOD,EAAIC,MAAM,GAEjB,IAAIC,EAAO,IAAIC,WAAWH,EAAII,YAE9B,OADAF,EAAKG,IAAI,IAAIF,WAAWH,IACjBE,EAAKI,OAIhB,SAASC,IA0FP,OAzFA7D,KAAKsC,UAAW,EAEhBtC,KAAK8D,UAAY,SAASzB,GAhM5B,IAAoB1B,EAiMhBX,KAAK+D,UAAY1B,EACZA,EAEsB,iBAATA,EAChBrC,KAAKgE,UAAY3B,EACRjC,GAAgBC,KAAKX,UAAUuE,cAAc5B,GACtDrC,KAAKkE,UAAY7B,EACRjC,GAAoB+D,SAASzE,UAAUuE,cAAc5B,GAC9DrC,KAAKoE,cAAgB/B,EACZjC,GAAwBiE,gBAAgB3E,UAAUuE,cAAc5B,GACzErC,KAAKgE,UAAY3B,EAAKxB,WACbT,GAAuBA,KA5MlBO,EA4M6C0B,IA3MjDiC,SAAS5E,UAAUuE,cAActD,KA4M3CX,KAAKuE,iBAAmBlB,EAAYhB,EAAKuB,QAEzC5D,KAAK+D,UAAY,IAAI1D,KAAK,CAACL,KAAKuE,oBACvBnE,IAAwBK,YAAYf,UAAUuE,cAAc5B,IAAS7B,EAAkB6B,IAChGrC,KAAKuE,iBAAmBlB,EAAYhB,GAEpCrC,KAAKgE,UAAY3B,EAAO7D,OAAOkB,UAAUmB,SAAS5C,KAAKoE,GAhBvDrC,KAAKgE,UAAY,GAmBdhE,KAAK4B,QAAQjD,IAAI,kBACA,iBAAT0D,EACTrC,KAAK4B,QAAQ+B,IAAI,eAAgB,4BACxB3D,KAAKkE,WAAalE,KAAKkE,UAAUM,KAC1CxE,KAAK4B,QAAQ+B,IAAI,eAAgB3D,KAAKkE,UAAUM,MACvCpE,GAAwBiE,gBAAgB3E,UAAUuE,cAAc5B,IACzErC,KAAK4B,QAAQ+B,IAAI,eAAgB,qDAKnCvD,IACFJ,KAAKiD,KAAO,WACV,IAAIwB,EAAWrC,EAASpC,MACxB,GAAIyE,EACF,OAAOA,EAGT,GAAIzE,KAAKkE,UACP,OAAO3B,QAAQI,QAAQ3C,KAAKkE,WACvB,GAAIlE,KAAKuE,iBACd,OAAOhC,QAAQI,QAAQ,IAAItC,KAAK,CAACL,KAAKuE,oBACjC,GAAIvE,KAAKoE,cACd,MAAM,IAAIM,MAAM,wCAEhB,OAAOnC,QAAQI,QAAQ,IAAItC,KAAK,CAACL,KAAKgE,cAI1ChE,KAAK2E,YAAc,WACjB,OAAI3E,KAAKuE,iBACAnC,EAASpC,OAASuC,QAAQI,QAAQ3C,KAAKuE,kBAEvCvE,KAAKiD,OAAO2B,KAAK5B,KAK9BhD,KAAK6E,KAAO,WACV,IA3FoB5B,EAClBP,EACAS,EAyFEsB,EAAWrC,EAASpC,MACxB,GAAIyE,EACF,OAAOA,EAGT,GAAIzE,KAAKkE,UACP,OAjGkBjB,EAiGIjD,KAAKkE,UAhG3BxB,EAAS,IAAIQ,WACbC,EAAUV,EAAgBC,GAC9BA,EAAOoC,WAAW7B,GACXE,EA8FE,GAAInD,KAAKuE,iBACd,OAAOhC,QAAQI,QA5FrB,SAA+BW,GAI7B,IAHA,IAAIE,EAAO,IAAIC,WAAWH,GACtByB,EAAQ,IAAI/C,MAAMwB,EAAKwB,QAElBlH,EAAI,EAAGA,EAAI0F,EAAKwB,OAAQlH,IAC/BiH,EAAMjH,GAAKiD,OAAOkE,aAAazB,EAAK1F,IAEtC,OAAOiH,EAAMG,KAAK,IAqFSC,CAAsBnF,KAAKuE,mBAC7C,GAAIvE,KAAKoE,cACd,MAAM,IAAIM,MAAM,wCAEhB,OAAOnC,QAAQI,QAAQ3C,KAAKgE,YAI5B5D,IACFJ,KAAKoF,SAAW,WACd,OAAOpF,KAAK6E,OAAOD,KAAKS,KAI5BrF,KAAKsF,KAAO,WACV,OAAOtF,KAAK6E,OAAOD,KAAKW,KAAKC,QAGxBxF,KA1MT2B,EAAQjC,UAAUqC,OAAS,SAAS1D,EAAMU,GACxCV,EAAOyC,EAAczC,GACrBU,EAAQoC,EAAepC,GACvB,IAAI0G,EAAWzF,KAAK6B,IAAIxD,GACxB2B,KAAK6B,IAAIxD,GAAQoH,EAAWA,EAAW,KAAO1G,EAAQA,GAGxD4C,EAAQjC,UAAkB,OAAI,SAASrB,UAC9B2B,KAAK6B,IAAIf,EAAczC,KAGhCsD,EAAQjC,UAAUf,IAAM,SAASN,GAE/B,OADAA,EAAOyC,EAAczC,GACd2B,KAAK0F,IAAIrH,GAAQ2B,KAAK6B,IAAIxD,GAAQ,MAG3CsD,EAAQjC,UAAUgG,IAAM,SAASrH,GAC/B,OAAO2B,KAAK6B,IAAIlC,eAAemB,EAAczC,KAG/CsD,EAAQjC,UAAUiE,IAAM,SAAStF,EAAMU,GACrCiB,KAAK6B,IAAIf,EAAczC,IAAS8C,EAAepC,IAGjD4C,EAAQjC,UAAUoC,QAAU,SAAS6D,EAAUC,GAC7C,IAAK,IAAIvH,KAAQ2B,KAAK6B,IAChB7B,KAAK6B,IAAIlC,eAAetB,IAC1BsH,EAAS1H,KAAK2H,EAAS5F,KAAK6B,IAAIxD,GAAOA,EAAM2B,OAKnD2B,EAAQjC,UAAUmG,KAAO,WACvB,IAAIxE,EAAQ,GAIZ,OAHArB,KAAK8B,SAAQ,SAAS/C,EAAOV,GAC3BgD,EAAMyE,KAAKzH,MAEN+C,EAAYC,IAGrBM,EAAQjC,UAAUqG,OAAS,WACzB,IAAI1E,EAAQ,GAIZ,OAHArB,KAAK8B,SAAQ,SAAS/C,GACpBsC,EAAMyE,KAAK/G,MAENqC,EAAYC,IAGrBM,EAAQjC,UAAUsG,QAAU,WAC1B,IAAI3E,EAAQ,GAIZ,OAHArB,KAAK8B,SAAQ,SAAS/C,EAAOV,GAC3BgD,EAAMyE,KAAK,CAACzH,EAAMU,OAEbqC,EAAYC,IAGjBjB,IACFuB,EAAQjC,UAAUb,OAAOyC,UAAYK,EAAQjC,UAAUsG,SAqJzD,IAAIC,EAAU,CAAC,SAAU,MAAO,OAAQ,UAAW,OAAQ,OAO3D,SAASC,EAAQC,EAAOC,GAEtB,IAPuBC,EACnBC,EAMAjE,GADJ+D,EAAUA,GAAW,IACF/D,KAEnB,GAAI8D,aAAiBD,EAAS,CAC5B,GAAIC,EAAM7D,SACR,MAAM,IAAIrB,UAAU,gBAEtBjB,KAAKuG,IAAMJ,EAAMI,IACjBvG,KAAKwG,YAAcL,EAAMK,YACpBJ,EAAQxE,UACX5B,KAAK4B,QAAU,IAAID,EAAQwE,EAAMvE,UAEnC5B,KAAKqG,OAASF,EAAME,OACpBrG,KAAKf,KAAOkH,EAAMlH,KAClBe,KAAKyG,OAASN,EAAMM,OACfpE,GAA2B,MAAnB8D,EAAMpC,YACjB1B,EAAO8D,EAAMpC,UACboC,EAAM7D,UAAW,QAGnBtC,KAAKuG,IAAMxF,OAAOoF,GAYpB,GATAnG,KAAKwG,YAAcJ,EAAQI,aAAexG,KAAKwG,aAAe,eAC1DJ,EAAQxE,SAAY5B,KAAK4B,UAC3B5B,KAAK4B,QAAU,IAAID,EAAQyE,EAAQxE,UAErC5B,KAAKqG,QAjCkBA,EAiCOD,EAAQC,QAAUrG,KAAKqG,QAAU,MAhC3DC,EAAUD,EAAOK,cACdT,EAAQrF,QAAQ0F,IAAY,EAAIA,EAAUD,GAgCjDrG,KAAKf,KAAOmH,EAAQnH,MAAQe,KAAKf,MAAQ,KACzCe,KAAKyG,OAASL,EAAQK,QAAUzG,KAAKyG,OACrCzG,KAAK2G,SAAW,MAEK,QAAhB3G,KAAKqG,QAAoC,SAAhBrG,KAAKqG,SAAsBhE,EACvD,MAAM,IAAIpB,UAAU,6CAEtBjB,KAAK8D,UAAUzB,GAOjB,SAASgD,EAAOhD,GACd,IAAIuE,EAAO,IAAIzC,SAYf,OAXA9B,EACGwE,OACAC,MAAM,KACNhF,SAAQ,SAASiF,GAChB,GAAIA,EAAO,CACT,IAAID,EAAQC,EAAMD,MAAM,KACpBzI,EAAOyI,EAAMtF,QAAQwF,QAAQ,MAAO,KACpCjI,EAAQ+H,EAAM5B,KAAK,KAAK8B,QAAQ,MAAO,KAC3CJ,EAAK7E,OAAOkF,mBAAmB5I,GAAO4I,mBAAmBlI,QAGxD6H,EAqBT,SAASM,EAASC,EAAUf,GACrBA,IACHA,EAAU,IAGZpG,KAAKwE,KAAO,UACZxE,KAAKoH,YAA4B1F,IAAnB0E,EAAQgB,OAAuB,IAAMhB,EAAQgB,OAC3DpH,KAAKqH,GAAKrH,KAAKoH,QAAU,KAAOpH,KAAKoH,OAAS,IAC9CpH,KAAKsH,WAAa,eAAgBlB,EAAUA,EAAQkB,WAAa,KACjEtH,KAAK4B,QAAU,IAAID,EAAQyE,EAAQxE,SACnC5B,KAAKuG,IAAMH,EAAQG,KAAO,GAC1BvG,KAAK8D,UAAUqD,GAjDjBjB,EAAQxG,UAAU6H,MAAQ,WACxB,OAAO,IAAIrB,EAAQlG,KAAM,CAACqC,KAAMrC,KAAK+D,aAmCvCF,EAAK5F,KAAKiI,EAAQxG,WAgBlBmE,EAAK5F,KAAKiJ,EAASxH,WAEnBwH,EAASxH,UAAU6H,MAAQ,WACzB,OAAO,IAAIL,EAASlH,KAAK+D,UAAW,CAClCqD,OAAQpH,KAAKoH,OACbE,WAAYtH,KAAKsH,WACjB1F,QAAS,IAAID,EAAQ3B,KAAK4B,SAC1B2E,IAAKvG,KAAKuG,OAIdW,EAASnE,MAAQ,WACf,IAAIyE,EAAW,IAAIN,EAAS,KAAM,CAACE,OAAQ,EAAGE,WAAY,KAE1D,OADAE,EAAShD,KAAO,QACTgD,GAGT,IAAIC,EAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,KAE5CP,EAASQ,SAAW,SAASnB,EAAKa,GAChC,IAA0C,IAAtCK,EAAiB7G,QAAQwG,GAC3B,MAAM,IAAIO,WAAW,uBAGvB,OAAO,IAAIT,EAAS,KAAM,CAACE,OAAQA,EAAQxF,QAAS,CAACgG,SAAUrB,MAGjEjJ,EAAQ4C,aAAeC,EAAKD,aAC5B,IACE,IAAI5C,EAAQ4C,aACZ,MAAO2H,GACPvK,EAAQ4C,aAAe,SAAS4H,EAASzJ,GACvC2B,KAAK8H,QAAUA,EACf9H,KAAK3B,KAAOA,EACZ,IAAI0E,EAAQ2B,MAAMoD,GAClB9H,KAAK+H,MAAQhF,EAAMgF,OAErBzK,EAAQ4C,aAAaR,UAAYlB,OAAOY,OAAOsF,MAAMhF,WACrDpC,EAAQ4C,aAAaR,UAAUsI,YAAc1K,EAAQ4C,aAGvD,SAASD,EAAMkG,EAAO8B,GACpB,OAAO,IAAI1F,SAAQ,SAASI,EAASH,GACnC,IAAI0F,EAAU,IAAIhC,EAAQC,EAAO8B,GAEjC,GAAIC,EAAQzB,QAAUyB,EAAQzB,OAAO0B,QACnC,OAAO3F,EAAO,IAAIlF,EAAQ4C,aAAa,UAAW,eAGpD,IAAIkI,EAAM,IAAIC,eAEd,SAASC,IACPF,EAAIG,QAGNH,EAAIxF,OAAS,WACX,IAxFgB4F,EAChB5G,EAuFIwE,EAAU,CACZgB,OAAQgB,EAAIhB,OACZE,WAAYc,EAAId,WAChB1F,SA3Fc4G,EA2FQJ,EAAIK,yBAA2B,GA1FvD7G,EAAU,IAAID,EAGQ6G,EAAWxB,QAAQ,eAAgB,KACzCF,MAAM,SAAShF,SAAQ,SAAS4G,GAClD,IAAIC,EAAQD,EAAK5B,MAAM,KACnBzH,EAAMsJ,EAAMnH,QAAQqF,OACxB,GAAIxH,EAAK,CACP,IAAIN,EAAQ4J,EAAMzD,KAAK,KAAK2B,OAC5BjF,EAAQG,OAAO1C,EAAKN,OAGjB6C,IAgFHwE,EAAQG,IAAM,gBAAiB6B,EAAMA,EAAIQ,YAAcxC,EAAQxE,QAAQjD,IAAI,iBAC3E,IAAI0D,EAAO,aAAc+F,EAAMA,EAAIZ,SAAWY,EAAIS,aAClDlG,EAAQ,IAAIuE,EAAS7E,EAAM+D,KAG7BgC,EAAItF,QAAU,WACZN,EAAO,IAAIvB,UAAU,4BAGvBmH,EAAIU,UAAY,WACdtG,EAAO,IAAIvB,UAAU,4BAGvBmH,EAAIW,QAAU,WACZvG,EAAO,IAAIlF,EAAQ4C,aAAa,UAAW,gBAG7CkI,EAAIY,KAAKd,EAAQ7B,OAAQ6B,EAAQ3B,KAAK,GAEV,YAAxB2B,EAAQ1B,YACV4B,EAAIa,iBAAkB,EACW,SAAxBf,EAAQ1B,cACjB4B,EAAIa,iBAAkB,GAGpB,iBAAkBb,GAAOhI,IAC3BgI,EAAIc,aAAe,QAGrBhB,EAAQtG,QAAQE,SAAQ,SAAS/C,EAAOV,GACtC+J,EAAIe,iBAAiB9K,EAAMU,MAGzBmJ,EAAQzB,SACVyB,EAAQzB,OAAO2C,iBAAiB,QAASd,GAEzCF,EAAIiB,mBAAqB,WAEA,IAAnBjB,EAAIkB,YACNpB,EAAQzB,OAAO8C,oBAAoB,QAASjB,KAKlDF,EAAIoB,UAAkC,IAAtBtB,EAAQnE,UAA4B,KAAOmE,EAAQnE,cAIvE9D,EAAMwJ,UAAW,EAEZtJ,EAAKF,QACRE,EAAKF,MAAQA,EACbE,EAAKwB,QAAUA,EACfxB,EAAK+F,QAAUA,EACf/F,EAAK+G,SAAWA,GAGlB5J,EAAQqE,QAAUA,EAClBrE,EAAQ4I,QAAUA,EAClB5I,EAAQ4J,SAAWA,EACnB5J,EAAQ2C,MAAQA,EAzgBD,CA6gBf,IA/gBF,CAghBGH,UACIA,EAASG,MAAMwJ,UACtBnM,EAAUwC,EAASG,OACXyJ,QAAU5J,EAASG,MAC3B3C,EAAQ2C,MAAQH,EAASG,MACzB3C,EAAQqE,QAAU7B,EAAS6B,QAC3BrE,EAAQ4I,QAAUpG,EAASoG,QAC3B5I,EAAQ4J,SAAWpH,EAASoH,SAC5B3J,EAAOD,QAAUA,G,iLC9hBjB,IAYeqM,EAZC,e,EAAA,G,EAAA,yBAAG,+GAA4BC,EAA5B,EAA4BA,OAAQC,EAApC,EAAoCA,YAC/CC,EADW,UACCF,EADD,yCAEV3J,IAAM6J,EAAQ,CACnBzD,OAAQ,OACRzE,QAAS,CACP,eAAgB,oBAElBS,KAAMkD,KAAKwE,UAAU,CAAEC,WAAYH,MAElCjF,MAAM,SAAA4C,GAAQ,OAAIA,EAASH,GAAKG,EAASlC,OAASkC,EAASlC,OAAOV,MAAM,SAAAiD,GAAG,OAAItF,QAAQC,OAAOqF,UAThF,0C,+KAAH,sDCFVoC,EAAkB,SAAUC,GAChC,QAAKA,EAAMC,UAAWD,EAAMnL,QAMxBqL,EAA2B,SAAmCC,GAClE,IAAMC,EAAwB,GACxBC,EAA0B,GAF2C,uBAI3E,YAAmBF,EAAOtL,MAA1B,+CAAkC,KACA,EADxBmL,EAAwB,QAChC,GAAKD,EAAiBC,GACpBK,EAAwBL,EAAM7L,MAA9B,UAAsC6L,EAAMnL,aAA5C,QAAqD,QAErDuL,EAAsBxE,KAAKoE,IAR4C,kFAY3E,MAAO,CAAEI,wBAAuBC,4B,m/BCflC,IAAMC,EAAsB,SAA8BC,GAAwC,IAAtBC,EAAsB,uDAAL,GACrFZ,EAASW,EAAiBE,KAChC,mDAAO,WAAeC,GAAf,yGACE3K,IAAM6J,EAAQ,CACnBzD,OAAQoE,EAAiBpE,OACzBzE,QAAS,CACP,eAAgB6I,EAAiBI,SAEnCxI,KAAMkD,KAAKwE,UAAL,KAAoBa,EAApB,GAA+BF,MAEpC9F,MAAM,SAAA4C,GACL,IAAMsD,EAAWtD,EAASlC,OAC1B,OAAIkC,EAASH,GACJyD,EACsB,MAApBtD,EAASJ,QAA+D,sCAA7CI,EAAS5F,QAAQjD,IAAI,oBAMlDmM,EAASlG,MAAK,SAAAiD,GAAG,OAAItF,QAAQC,OAAOuI,EAAalD,OAEnDiD,EAASlG,MAAK,SAAAiD,GAAG,OAAItF,QAAQC,OAAOqF,SAE5CjD,MAAM,SAAAoG,GAAW,OAAID,EAAaC,OAtBhC,2CAAP,uDA0BIC,EAAuB,SAA+BR,GAAwC,IAAtBC,EAAsB,uDAAL,GAEvFZ,EAASW,EAAiBE,KAChC,mDAAO,WAAeC,GAAf,yGACE3K,IAAM6J,EAAQ,CACnBzD,OAAQoE,EAAiBpE,OACzBzE,QAAS,CACP,eAAgB6I,EAAiBI,SAEnCxI,KAAMkD,KAAKwE,UAAL,KAAoBa,EAApB,GAA+BF,MAEpC9F,MAAM,SAAA4C,GAAQ,OAAIA,EAASH,GAAKG,EAASlC,OAASkC,EAASlC,OAAOV,MAAM,SAAAiD,GAAG,OAAItF,QAAQC,OAAOqF,SAC9FjD,MAAM,SAAAoG,GAAW,OAAID,EAAaC,OAThC,2CAAP,uDAsBaE,EATW,SAA4BT,GACpD,IAAMU,EAAaV,EAAiBW,QAAUH,EAAuBT,EADE,ED1B3B,SAAyCa,GACrFA,EAAarJ,MAAMC,QAAQoJ,GAAcA,EAAa,CAAEA,GACxD,IAAMC,EAAe,GACfZ,EAAiB,GAH2E,uBAKlG,YAAoBW,EAApB,+CAAiC,KAAvBhB,EAAuB,UAC4BD,EAAyBC,GAA5EC,EADuB,EACvBA,sBAAuBC,EADA,EACAA,wBAC/Be,EAAajB,EAAOhM,MAAQiM,EAC5BI,EAAeL,EAAOhM,MAAQkM,GARkE,kFAWlG,MAAO,CAAEe,eAAcZ,kBCiBkBa,CAAgCd,GAAjEa,EAF+D,EAE/DA,aAEFjB,EAASc,EAAWV,EAJ6C,EAEjDC,eAEqCD,EAAiBpM,OAE5E,OADAgM,EAAOiB,aAAeA,EAAab,EAAiBpM,MAC7CgM,G,q6CCnDT,IAAMmB,EAAchN,OAAOiN,YAAY,CACrC,cACA,WACA5J,KAAK,SAACqI,GAAD,MAAW,CAAEA,GAAO,OAEdwB,EAAuB,SAA+BV,GACjE,IAAMW,EAAU,GACVC,EAAU,GAuChB,OArCApN,OAAOqH,KAAKmF,GAAaa,QAAQ,SAAA3B,GAAK,OAAKsB,EAAYtB,MAAQpI,SAAS,SAAAoI,GAGtE,GAFoD,WAA9B,EAAOc,EAAYd,OAAyBc,EAAYd,GAQ9E,GAAKc,EAAYd,GAAO4B,IAEtBH,EAAQX,EAAYd,GAAO7L,MAAQ6M,EAAkBF,EAAYd,QAFnE,CAT+E,MAenCc,EAAYd,GAAzC6B,EAfgE,EAevEhN,MAAmByF,EAfoD,EAepDA,KAASwH,EAf2C,sBAgB/EJ,EAAQ1B,G,+VAAR,EAAmB1F,QAASwH,GAEd,WAATxH,GAOLoH,EAAQ1B,GAAOnL,MAAQ,GACvBP,OAAOwH,QAAQ+F,GAAYjK,SAAS,YAAuB,aAArBmK,EAAqB,KAAXlN,EAAW,KACrDA,EAAM+M,IAERH,EAAQ,GAAD,OAAIzB,EAAJ,YAAa+B,EAAS5N,MAAQ4N,IAAcf,EAAkBnM,GAGrE6M,EAAQ1B,GAAOnL,MAAMkN,GAAYlN,MAZnC6M,EAAQ1B,GAAOnL,MAAQgN,OAfvBH,EAAQ1B,GAASc,EAAYd,MAgC1B,CAAE0B,UAASD,YAGPO,EAAmB,SAA2BlB,GAAc,MClDUmB,EDoD3EC,GCpD2ED,GDoD9B,UAAAnB,EAAYqB,mBAAZ,eAAyBtN,QAAS,GClD9EP,OAAOiN,YAAaU,EAAiBtK,KAAK,SAAAwK,GAC/C,MAAO,CACLA,EAAYhO,KACZ6M,EAAkBmB,SD6CiD,EAG1CX,EAAsBV,GAEnD,MAAO,CACLoB,eACAR,QAPqE,EAG/DA,QAKND,QARqE,EAGtDA,U,+mBErDnB,IA0BeZ,EA1BM,SAAuBC,GAAc,MAEbkB,EAAkBlB,GAArDoB,EAFgD,EAEhDA,aAAcR,EAFkC,EAElCA,QAASD,EAFyB,EAEzBA,QAEzBW,EAAkB,GAaxB,OAZA9N,OAAOwH,QAAQoG,GAActK,SAAS,YAAoB,aAAlBzD,EAAkB,KAAZgM,EAAY,KACxDiC,EAAgBjO,GAAQgM,EAAOiB,gBAW1B,CACLiB,QATW,e,EAAA,G,EAAA,yBAAG,WAAgBC,GAAhB,qGAAmCC,EAAnC,+BAAoD,GAC5DL,EAAaI,GADL,yCAELjK,QAAQC,OAAR,uCAA+CgK,EAA/C,OAFK,gCAKPJ,EAAaI,GAAmBC,IALzB,0C,+KAAH,sDAUXH,kBACAX,UACAC,UACAc,YAAa1B,I,yHCrBjB,IAAM2B,EAAK,e,EAAA,G,EAAA,yBAAG,6GAAuB/C,EAAvB,EAAuBA,OAAQC,EAA/B,EAA+BA,YAA/B,yCAEHtH,QAAQC,OAAO,CAAEO,MAAO,6BAFrB,UAKN6G,EALM,yCAMHrH,QAAQC,OAAO,CAAEO,MAAO,wBANrB,uBASc4G,EAAW,CAAEC,SAAQC,gBAArB,OAChB,SAAAhC,GAAG,OAAItF,QAAQC,OAAO,CAAEO,MAAO,yBAA0B6J,QAAS/E,OAVhE,cASNmD,EATM,OAWN6B,EAAW9B,EAAcC,GAXnB,kBAYL6B,GAZK,2C,+KAAH,sDAeI,WACbF","file":"idx.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"idx\"] = factory();\n\telse\n\t\troot[\"idx\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","var __self__ = (function (root) {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = root.DOMException\n}\nF.prototype = root;\nreturn new F();\n})(typeof self !== 'undefined' ? self : this);\n(function(self) {\n\nvar irrelevant = (function (exports) {\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n}({}));\n})(__self__);\ndelete __self__.fetch.polyfill\nexports = __self__.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = __self__.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = __self__.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = __self__.Headers\nexports.Request = __self__.Request\nexports.Response = __self__.Response\nmodule.exports = exports\n","import fetch from 'cross-fetch';\n\nconst introspect = async function introspect({ domain, stateHandle }) {\n  const target = `${domain}/idp/idx/introspect`;\n  return fetch(target, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({ stateToken: stateHandle })\n  })\n    .then( response => response.ok ? response.json() : response.json().then( err => Promise.reject(err)) );\n};\n\nexport default introspect;\n","const fieldIsAutoSent = function( field ) {\n  if (!field.visible && field.value) {\n    return true;\n  }\n  return false;\n};\n\nconst divideSingleActionParams = function divideSingleActionParams( action ) {\n  const neededParamsForAction = [];\n  const existingParamsForAction = {};\n\n  for ( let field of action.value ) {\n    if ( fieldIsAutoSent( field ) ) {\n      existingParamsForAction[field.name] = field.value ?? '';\n    } else {\n      neededParamsForAction.push(field);\n    }\n  }\n\n  return { neededParamsForAction, existingParamsForAction };\n};\n\nexport const divideActionParamsByAutoStatus = function divideActionParamsByAutoStatus( actionList ) {\n  actionList = Array.isArray(actionList) ? actionList : [ actionList ];\n  const neededParams = {};\n  const existingParams = {};\n\n  for ( let action of actionList ) {\n    const { neededParamsForAction, existingParamsForAction } = divideSingleActionParams(action);\n    neededParams[action.name] = neededParamsForAction;\n    existingParams[action.name] = existingParamsForAction;\n  }\n\n  return { neededParams, existingParams };\n};\n\n","import fetch from 'cross-fetch';\nimport { divideActionParamsByAutoStatus } from './actionParser';\nimport makeIdxState from './makeIdxState';\n\nconst generateDirectFetch = function generateDirectFetch( actionDefinition, existingParams = {} ) {\n  const target = actionDefinition.href;\n  return async function(params) {\n    return fetch(target, {\n      method: actionDefinition.method,\n      headers: {\n        'content-type': actionDefinition.accepts,\n      },\n      body: JSON.stringify({ ...params, ...existingParams })\n    })\n      .then( response => {\n        const respJson = response.json();\n        if (response.ok) {\n          return respJson;\n        } else if (response.status === 401 && response.headers.get('WWW-Authenticate') === 'Oktadevicejwt realm=\"Okta Device\"') {\n          // Okta server responds 401 status code with WWW-Authenticate header and new remediation\n          // so that the iOS/MacOS credential SSO extension (Okta Verify) can intercept\n          // the response reaches here when Okta Verify is not installed\n          // we need to return an idx object so that\n          // the SIW can proceed to the next step without showing error\n          return respJson.then(err => Promise.reject(makeIdxState(err)) );\n        }\n        return respJson.then(err => Promise.reject(err));\n      })\n      .then( idxResponse => makeIdxState(idxResponse) );\n  };\n};\n\nconst generatePollingFetch = function generatePollingFetch( actionDefinition, existingParams = {} ) {\n  // TODO: Discussions ongoing about when/how to terminate polling: OKTA-246581\n  const target = actionDefinition.href;\n  return async function(params) {\n    return fetch(target, {\n      method: actionDefinition.method,\n      headers: {\n        'content-type': actionDefinition.accepts,\n      },\n      body: JSON.stringify({ ...params, ...existingParams })\n    })\n      .then( response => response.ok ? response.json() : response.json().then( err => Promise.reject(err)) )\n      .then( idxResponse => makeIdxState(idxResponse) );\n  };\n};\n\nconst generateIdxAction = function generateIdxAction( actionDefinition ) {\n  const generator =  actionDefinition.refresh ? generatePollingFetch : generateDirectFetch;\n  const { neededParams, existingParams } = divideActionParamsByAutoStatus( actionDefinition );\n\n  const action = generator( actionDefinition, existingParams[actionDefinition.name] );\n  action.neededParams = neededParams[actionDefinition.name];\n  return action;\n};\n\nexport default generateIdxAction;\n","import { generateRemediationFunctions } from './remediationParser';\nimport generateIdxAction from './generateIdxAction';\n\nconst SKIP_FIELDS = Object.fromEntries([\n  'remediation', // remediations are put into proceed/neededToProceed\n  'context', // the API response of 'context' isn't externally useful.  We ignore it and put all non-action (contextual) info into idxState.context\n].map( (field) => [ field, !!'skip this field' ] ));\n\nexport const parseNonRemediations = function parseNonRemediations( idxResponse ) {\n  const actions = {};\n  const context = {};\n\n  Object.keys(idxResponse).filter( field => !SKIP_FIELDS[field]).forEach( field => {\n    const fieldIsObject = typeof idxResponse[field] === 'object' && !!idxResponse[field];\n\n    if ( !fieldIsObject ) {\n      // simple fields are contextual info\n      context[field] = idxResponse[field];\n      return;\n    }\n\n    if ( idxResponse[field].rel ) {\n      // top level actions\n      actions[idxResponse[field].name] = generateIdxAction(idxResponse[field]);\n      return;\n    }\n\n    const { value: fieldValue, type, ...info} = idxResponse[field];\n    context[field] = { type, ...info}; // add the non-action parts as context\n\n    if ( type !== 'object' ) {\n      // only object values hold actions\n      context[field].value = fieldValue;\n      return;\n    }\n\n    // We are an object field containing an object value\n    context[field].value = {};\n    Object.entries(fieldValue).forEach( ([subField, value]) => {\n      if (value.rel) { // is [field].value[subField] an action?\n        // add any \"action\" value subfields to actions\n        actions[`${field}-${subField.name || subField}`] = generateIdxAction(value);\n      } else {\n        // add non-action value subfields to context\n        context[field].value[subField] = value;\n      }\n    });\n  });\n\n  return { context, actions };\n};\n\nexport const parseIdxResponse = function parseIdxResponse( idxResponse ) {\n\n  const remediations = generateRemediationFunctions( idxResponse.remediation?.value || [] );\n  const { context, actions } = parseNonRemediations( idxResponse );\n\n  return {\n    remediations,\n    context,\n    actions,\n  };\n};\n","import generateIdxAction from './generateIdxAction';\n\nexport const generateRemediationFunctions = function generateRemediationFunctions( remediationValue ) {\n\n  return Object.fromEntries( remediationValue.map( remediation => {\n    return [\n      remediation.name,\n      generateIdxAction(remediation),\n    ];\n  }) );\n};\n","import { parseIdxResponse } from './idxResponseParser';\n\nconst makeIdxState = function makeIdxState( idxResponse ) {\n\n  const { remediations, context, actions } = parseIdxResponse( idxResponse );\n\n  const neededToProceed = {};\n  Object.entries(remediations).forEach( ([name, action]) => {\n    neededToProceed[name] = action.neededParams;\n  });\n\n  const proceed = async function( remediationChoice, paramsFromUser = {} ) {\n    if ( !remediations[remediationChoice] ) {\n      return Promise.reject(`Unknown remediation choice: [${remediationChoice}]`);\n    }\n\n    return remediations[remediationChoice](paramsFromUser);\n  };\n\n  return {\n    proceed,\n    neededToProceed,\n    actions,\n    context,\n    rawIdxState: idxResponse,\n  };\n};\n\nexport default makeIdxState;\n","import introspect from './introspect';\nimport makeIdxState from './makeIdxState';\n\nconst start = async function start({ domain, stateHandle }) {\n  if ( !stateHandle ) {\n    return Promise.reject({ error: 'stateHandle is required' });\n  }\n\n  if ( !domain ) {\n    return Promise.reject({ error: 'domain is required' });\n  }\n\n  const idxResponse = await introspect({ domain, stateHandle })\n    .catch( err => Promise.reject({ error: 'introspect call failed', details: err }) );\n  const idxState = makeIdxState( idxResponse );\n  return idxState;\n};\n\nexport default {\n  start,\n};\n"],"sourceRoot":""}